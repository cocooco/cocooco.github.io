{"title":"Canvas 基础图形绘制 — 矩形、圆形、曲线、多边形","slug":"canvas-core-02-basic-graphic-rendering","date":"2020-12-10T04:58:32.000Z","updated":"2020-12-25T07:52:06.848Z","comments":true,"path":"api/articles/canvas-core-02-basic-graphic-rendering.json","excerpt":null,"covers":null,"content":"<h2 id=\"画线与文本\"><a href=\"#画线与文本\" class=\"headerlink\" title=\"画线与文本\"></a>画线与文本</h2><iframe src=\"https://codesandbox.io/embed/canvas-test-demo-koccm?fontsize=14&hidenavigation=1&initialpath=%2F%23%2FDemo.01&module=%2Fsrc%2Fdemo%2FDemo.01.ts&theme=dark&view=preview\"\n  style=\"width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;\"\n  title=\"canvas-test-demo\"\n  allow=\"accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking\"\n  sandbox=\"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts\"\n></iframe>\n\n<h2 id=\"矩形填充与描边\"><a href=\"#矩形填充与描边\" class=\"headerlink\" title=\"矩形填充与描边\"></a>矩形填充与描边</h2><p>绘制矩形的 API:</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs ts\"><span class=\"hljs-keyword\">interface</span> CanvasRect &#123;<br>    clearRect(x: <span class=\"hljs-built_in\">number</span>, y: <span class=\"hljs-built_in\">number</span>, w: <span class=\"hljs-built_in\">number</span>, h: <span class=\"hljs-built_in\">number</span>): <span class=\"hljs-built_in\">void</span>;<br>    fillRect(x: <span class=\"hljs-built_in\">number</span>, y: <span class=\"hljs-built_in\">number</span>, w: <span class=\"hljs-built_in\">number</span>, h: <span class=\"hljs-built_in\">number</span>): <span class=\"hljs-built_in\">void</span>;<br>    strokeRect(x: <span class=\"hljs-built_in\">number</span>, y: <span class=\"hljs-built_in\">number</span>, w: <span class=\"hljs-built_in\">number</span>, h: <span class=\"hljs-built_in\">number</span>): <span class=\"hljs-built_in\">void</span>;<br>&#125;<br></code></pre></td></tr></table></figure>\n\n<p>简单矩形绘制，矩形描边：</p>\n<iframe src=\"https://codesandbox.io/embed/canvas-test-demo-koccm?fontsize=14&hidenavigation=1&initialpath=%2F%23%2FDemo.02&module=%2Fsrc%2Fdemo%2FDemo.02.ts&theme=dark&view=preview\"\n  style=\"width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;\"\n  title=\"canvas-test-demo\"\n  allow=\"accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking\"\n  sandbox=\"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts\"\n></iframe>\n\n<h2 id=\"圆形与椭圆\"><a href=\"#圆形与椭圆\" class=\"headerlink\" title=\"圆形与椭圆\"></a>圆形与椭圆</h2><iframe src=\"https://codesandbox.io/embed/canvas-test-demo-koccm?fontsize=14&hidenavigation=1&initialpath=%2F%23%2FDemo.03&module=%2Fsrc%2Fdemo%2FDemo.03.ts&theme=dark&view=preview\"\n  style=\"width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;\"\n  title=\"canvas-test-demo\"\n  allow=\"accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking\"\n  sandbox=\"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts\"\n></iframe>\n\n\n<h2 id=\"内容填充\"><a href=\"#内容填充\" class=\"headerlink\" title=\"内容填充\"></a>内容填充</h2><p>可以给绘制的图形填充一些东西，包括颜色，渐变，图案，通过设置 <a href=\"https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/fillStyle\" target=\"_blank\" rel=\"noopener\"><code>fillStyle</code></a> 属性来指定填充样式，<code>fillStyle</code> 属性接收的值有三种类型，分别是：<code>string | CanvasGradient | CanvasPattern</code>。填充图形通常的步骤是：<strong>设置填充样式 -&gt; 创建路径 -&gt; 调用 <code>fill()</code> 方法填充</strong>。</p>\n<ul>\n<li><code>string</code> 一个 CSS 颜色字符串</li>\n<li><a href=\"https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasGradient\" target=\"_blank\" rel=\"noopener\"><code>CanvasGradient</code></a> 通过 <code>createLinearGradient()</code> 或 <code>createRadialGradient()</code> 方法创建的渐变</li>\n<li><a href=\"https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasPattern\" target=\"_blank\" rel=\"noopener\"><code>CanvasPattern</code></a> 通过 <code>createPattern()</code> 方法创建的模式</li>\n</ul>\n<h3 id=\"线性渐变填充\"><a href=\"#线性渐变填充\" class=\"headerlink\" title=\"线性渐变填充\"></a>线性渐变填充</h3><iframe src=\"https://codesandbox.io/embed/canvas-test-demo-koccm?fontsize=14&hidenavigation=1&initialpath=%2F%23%2FDemo.04&module=%2Fsrc%2Fdemo%2FDemo.04.ts&theme=dark&view=preview\"\n  style=\"width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;\"\n  title=\"canvas-test-demo\"\n  allow=\"accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking\"\n  sandbox=\"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts\"\n></iframe>\n\n<h3 id=\"径向渐变填充\"><a href=\"#径向渐变填充\" class=\"headerlink\" title=\"径向渐变填充\"></a>径向渐变填充</h3><iframe src=\"https://codesandbox.io/embed/canvas-test-demo-koccm?fontsize=14&hidenavigation=1&initialpath=%2F%23%2FDemo.05&module=%2Fsrc%2Fdemo%2FDemo.05.ts&theme=dark&view=preview\"\n  style=\"width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;\"\n  title=\"canvas-test-demo\"\n  allow=\"accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking\"\n  sandbox=\"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts\"\n></iframe>\n\n\n<h3 id=\"图案填充\"><a href=\"#图案填充\" class=\"headerlink\" title=\"图案填充\"></a>图案填充</h3><iframe src=\"https://codesandbox.io/embed/canvas-test-demo-koccm?fontsize=14&hidenavigation=1&initialpath=%2F%23%2FDemo.06&module=%2Fsrc%2Fdemo%2FDemo.06.ts&theme=dark&view=preview\"\n  style=\"width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;\"\n  title=\"canvas-test-demo\"\n  allow=\"accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking\"\n  sandbox=\"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts\"\n></iframe>\n\n\n<h2 id=\"阴影效果\"><a href=\"#阴影效果\" class=\"headerlink\" title=\"阴影效果\"></a>阴影效果</h2><p>设置阴影的属性：</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs ts\"><span class=\"hljs-keyword\">interface</span> CanvasShadowStyles &#123;<br>  shadowBlur: <span class=\"hljs-built_in\">number</span>;<br>  shadowColor: <span class=\"hljs-built_in\">string</span>;<br>  shadowOffsetX: <span class=\"hljs-built_in\">number</span>;<br>  shadowOffsetY: <span class=\"hljs-built_in\">number</span>;<br>&#125;<br></code></pre></td></tr></table></figure>\n\n<iframe src=\"https://codesandbox.io/embed/canvas-test-demo-koccm?fontsize=14&hidenavigation=1&initialpath=%2F%23%2FDemo.07&module=%2Fsrc%2Fdemo%2FDemo.07.ts&theme=dark&view=preview\"\n  style=\"width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;\"\n  title=\"canvas-test-demo\"\n  allow=\"accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking\"\n  sandbox=\"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts\"\n></iframe>\n\n\n<h2 id=\"贝塞尔曲线\"><a href=\"#贝塞尔曲线\" class=\"headerlink\" title=\"贝塞尔曲线\"></a>贝塞尔曲线</h2><iframe src=\"https://codesandbox.io/embed/canvas-test-demo-koccm?fontsize=14&hidenavigation=1&initialpath=%2F%23%2FDemo.08&module=%2Fsrc%2Fdemo%2FDemo.08.ts&theme=dark&view=preview\"\n  style=\"width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;\"\n  title=\"canvas-test-demo\"\n  allow=\"accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking\"\n  sandbox=\"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts\"\n></iframe>\n\n\n<h2 id=\"任意多边形\"><a href=\"#任意多边形\" class=\"headerlink\" title=\"任意多边形\"></a>任意多边形</h2><iframe src=\"https://codesandbox.io/embed/canvas-test-demo-koccm?fontsize=14&hidenavigation=1&initialpath=%2F%23%2FDemo.09&module=%2Fsrc%2Fdemo%2FDemo.09.ts&theme=dark&view=preview\"\n  style=\"width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;\"\n  title=\"canvas-test-demo\"\n  allow=\"accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking\"\n  sandbox=\"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts\"\n></iframe>\n\n","more":"<h2 id=\"画线与文本\"><a href=\"#画线与文本\" class=\"headerlink\" title=\"画线与文本\"></a>画线与文本</h2><iframe src=\"https://codesandbox.io/embed/canvas-test-demo-koccm?fontsize=14&hidenavigation=1&initialpath=%2F%23%2FDemo.01&module=%2Fsrc%2Fdemo%2FDemo.01.ts&theme=dark&view=preview\"\n  style=\"width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;\"\n  title=\"canvas-test-demo\"\n  allow=\"accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking\"\n  sandbox=\"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts\"\n></iframe>\n\n<h2 id=\"矩形填充与描边\"><a href=\"#矩形填充与描边\" class=\"headerlink\" title=\"矩形填充与描边\"></a>矩形填充与描边</h2><p>绘制矩形的 API:</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs ts\"><span class=\"hljs-keyword\">interface</span> CanvasRect &#123;<br>    clearRect(x: <span class=\"hljs-built_in\">number</span>, y: <span class=\"hljs-built_in\">number</span>, w: <span class=\"hljs-built_in\">number</span>, h: <span class=\"hljs-built_in\">number</span>): <span class=\"hljs-built_in\">void</span>;<br>    fillRect(x: <span class=\"hljs-built_in\">number</span>, y: <span class=\"hljs-built_in\">number</span>, w: <span class=\"hljs-built_in\">number</span>, h: <span class=\"hljs-built_in\">number</span>): <span class=\"hljs-built_in\">void</span>;<br>    strokeRect(x: <span class=\"hljs-built_in\">number</span>, y: <span class=\"hljs-built_in\">number</span>, w: <span class=\"hljs-built_in\">number</span>, h: <span class=\"hljs-built_in\">number</span>): <span class=\"hljs-built_in\">void</span>;<br>&#125;<br></code></pre></td></tr></table></figure>\n\n<p>简单矩形绘制，矩形描边：</p>\n<iframe src=\"https://codesandbox.io/embed/canvas-test-demo-koccm?fontsize=14&hidenavigation=1&initialpath=%2F%23%2FDemo.02&module=%2Fsrc%2Fdemo%2FDemo.02.ts&theme=dark&view=preview\"\n  style=\"width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;\"\n  title=\"canvas-test-demo\"\n  allow=\"accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking\"\n  sandbox=\"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts\"\n></iframe>\n\n<h2 id=\"圆形与椭圆\"><a href=\"#圆形与椭圆\" class=\"headerlink\" title=\"圆形与椭圆\"></a>圆形与椭圆</h2><iframe src=\"https://codesandbox.io/embed/canvas-test-demo-koccm?fontsize=14&hidenavigation=1&initialpath=%2F%23%2FDemo.03&module=%2Fsrc%2Fdemo%2FDemo.03.ts&theme=dark&view=preview\"\n  style=\"width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;\"\n  title=\"canvas-test-demo\"\n  allow=\"accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking\"\n  sandbox=\"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts\"\n></iframe>\n\n\n<h2 id=\"内容填充\"><a href=\"#内容填充\" class=\"headerlink\" title=\"内容填充\"></a>内容填充</h2><p>可以给绘制的图形填充一些东西，包括颜色，渐变，图案，通过设置 <a href=\"https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/fillStyle\" target=\"_blank\" rel=\"noopener\"><code>fillStyle</code></a> 属性来指定填充样式，<code>fillStyle</code> 属性接收的值有三种类型，分别是：<code>string | CanvasGradient | CanvasPattern</code>。填充图形通常的步骤是：<strong>设置填充样式 -&gt; 创建路径 -&gt; 调用 <code>fill()</code> 方法填充</strong>。</p>\n<ul>\n<li><code>string</code> 一个 CSS 颜色字符串</li>\n<li><a href=\"https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasGradient\" target=\"_blank\" rel=\"noopener\"><code>CanvasGradient</code></a> 通过 <code>createLinearGradient()</code> 或 <code>createRadialGradient()</code> 方法创建的渐变</li>\n<li><a href=\"https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasPattern\" target=\"_blank\" rel=\"noopener\"><code>CanvasPattern</code></a> 通过 <code>createPattern()</code> 方法创建的模式</li>\n</ul>\n<h3 id=\"线性渐变填充\"><a href=\"#线性渐变填充\" class=\"headerlink\" title=\"线性渐变填充\"></a>线性渐变填充</h3><iframe src=\"https://codesandbox.io/embed/canvas-test-demo-koccm?fontsize=14&hidenavigation=1&initialpath=%2F%23%2FDemo.04&module=%2Fsrc%2Fdemo%2FDemo.04.ts&theme=dark&view=preview\"\n  style=\"width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;\"\n  title=\"canvas-test-demo\"\n  allow=\"accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking\"\n  sandbox=\"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts\"\n></iframe>\n\n<h3 id=\"径向渐变填充\"><a href=\"#径向渐变填充\" class=\"headerlink\" title=\"径向渐变填充\"></a>径向渐变填充</h3><iframe src=\"https://codesandbox.io/embed/canvas-test-demo-koccm?fontsize=14&hidenavigation=1&initialpath=%2F%23%2FDemo.05&module=%2Fsrc%2Fdemo%2FDemo.05.ts&theme=dark&view=preview\"\n  style=\"width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;\"\n  title=\"canvas-test-demo\"\n  allow=\"accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking\"\n  sandbox=\"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts\"\n></iframe>\n\n\n<h3 id=\"图案填充\"><a href=\"#图案填充\" class=\"headerlink\" title=\"图案填充\"></a>图案填充</h3><iframe src=\"https://codesandbox.io/embed/canvas-test-demo-koccm?fontsize=14&hidenavigation=1&initialpath=%2F%23%2FDemo.06&module=%2Fsrc%2Fdemo%2FDemo.06.ts&theme=dark&view=preview\"\n  style=\"width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;\"\n  title=\"canvas-test-demo\"\n  allow=\"accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking\"\n  sandbox=\"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts\"\n></iframe>\n\n\n<h2 id=\"阴影效果\"><a href=\"#阴影效果\" class=\"headerlink\" title=\"阴影效果\"></a>阴影效果</h2><p>设置阴影的属性：</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs ts\"><span class=\"hljs-keyword\">interface</span> CanvasShadowStyles &#123;<br>  shadowBlur: <span class=\"hljs-built_in\">number</span>;<br>  shadowColor: <span class=\"hljs-built_in\">string</span>;<br>  shadowOffsetX: <span class=\"hljs-built_in\">number</span>;<br>  shadowOffsetY: <span class=\"hljs-built_in\">number</span>;<br>&#125;<br></code></pre></td></tr></table></figure>\n\n<iframe src=\"https://codesandbox.io/embed/canvas-test-demo-koccm?fontsize=14&hidenavigation=1&initialpath=%2F%23%2FDemo.07&module=%2Fsrc%2Fdemo%2FDemo.07.ts&theme=dark&view=preview\"\n  style=\"width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;\"\n  title=\"canvas-test-demo\"\n  allow=\"accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking\"\n  sandbox=\"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts\"\n></iframe>\n\n\n<h2 id=\"贝塞尔曲线\"><a href=\"#贝塞尔曲线\" class=\"headerlink\" title=\"贝塞尔曲线\"></a>贝塞尔曲线</h2><iframe src=\"https://codesandbox.io/embed/canvas-test-demo-koccm?fontsize=14&hidenavigation=1&initialpath=%2F%23%2FDemo.08&module=%2Fsrc%2Fdemo%2FDemo.08.ts&theme=dark&view=preview\"\n  style=\"width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;\"\n  title=\"canvas-test-demo\"\n  allow=\"accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking\"\n  sandbox=\"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts\"\n></iframe>\n\n\n<h2 id=\"任意多边形\"><a href=\"#任意多边形\" class=\"headerlink\" title=\"任意多边形\"></a>任意多边形</h2><iframe src=\"https://codesandbox.io/embed/canvas-test-demo-koccm?fontsize=14&hidenavigation=1&initialpath=%2F%23%2FDemo.09&module=%2Fsrc%2Fdemo%2FDemo.09.ts&theme=dark&view=preview\"\n  style=\"width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;\"\n  title=\"canvas-test-demo\"\n  allow=\"accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking\"\n  sandbox=\"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts\"\n></iframe>\n\n","categories":[{"name":"Canvas","path":"api/categories/Canvas.json"}],"tags":[{"name":"2D","path":"api/tags/2D.json"},{"name":"Canvas","path":"api/tags/Canvas.json"},{"name":"图形开发","path":"api/tags/图形开发.json"}]}